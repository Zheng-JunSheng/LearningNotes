# `fgets()`函数

## 	1.简介

在分块读取文件时，可能会出现一块中的最后一行没读完整，想到了使用`fgets()`去多读。

## 2.问题分析

```
    char* fgets(
		char* const string, 
		int   const count, 
		FILE* const stream
	)；
```

参数count，但是实际上`fgets`只会读取count-1个字符，最后添加一个'\0'。
`fgets()`是
​	1.判断是不是读到`EOF`，如果是退出循环。
​	2.赋值。
​	3.判断读到的是不是'\n'，如果是退出循环。
​	4.退出循环之后，再赋值一个'\0'。

## 3.问题解决

因为不确定行的长度，所以放弃了`fgets`。在每次读取完一块后，如果读满，就寻找块中的最后一个换行符，计算偏移量，将文件指针移动到换行符后一个，这样就解决了因为行的长度不确定造成的读不完全的情况。

## 4.问题总结

`fgets()`并不会读取count个字符，而是count-1个字符+`\0`。



